<!DOCTYPE html>
<html>
  <head>
    <title>Button Test</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="../../../Element.js"></script>
    <script type="text/javascript" src="../../../UI.js"></script>
    <script type="text/javascript" src="../../../Button.js"></script>
    <script type="text/javascript" src="../../../wrappers/CanvasDraw.js"></script>
  </head>
  <body>
    <canvas id="plugin" width="300" height="300"></canvas>
    <script type="text/javascript">

        // This should fix "console not defined" problem.
        if (typeof console=="undefined"){console={log:function(A){var B=false;if(B){alert(A)}}}}
        var ui;

        /* INIT */

        var plugin_canvas = document.getElementById("plugin");
        var plugin_context = plugin_canvas.getContext("2d");

        ui = new UI (plugin_canvas);

        var imageDisplayer1 = new CanvasDrawImage (plugin_context);
        var imageDisplayer2 = new CanvasDrawImage (plugin_context);

        /* BUTTON 1 */

        //var button1_img_array = ["button0_1.png", "button0_2.png"];

        //Button
        var button1Args = {
            images : ["button1_1.png", "button1_2.png"]
        };
        button1Args.onValueSet = function () {
            var that = this;
            return function (slot, value) {
                console.log ("onValueSet Button 1 callback: slot is ", slot, " and value is ", value, " while that is ", that);
            };
        }();
        var button1 = new Button("test_button_1", [0, 0], button1Args);

        /* BUTTON 2 */

        //var button1_img_array = ["button0_1.png", "button0_2.png"];

        //Button
        var button2Args = {
            images : ["button2_1.png", "button2_2.png"]
        };
        button2Args.onValueSet = function () {
            var that = this;
            return function (slot, value) {
                console.log ("onValueSet Button 2 callback: slot is ", slot, " and value is ", value, " while that is ", that);
            };
        }();
        var button2 = new Button("test_button_2", [50, 50], button2Args);

        /* ADD UI */
        ui.addElement(button1, imageDisplayer1, {zIndex: 0});
        ui.addElement(button2, imageDisplayer2, {zIndex: 1});
        button1.setValue("buttonvalue", 0);
        button2.setValue("buttonvalue", 0);


    </script>
  </body>
</html>
